(function(m){"use strict";var h=h||{};h.init=function(){h.$body=m(document.body),h.$window=m(window),h.$header=m("#site-header");this.preLoader();this.newLetterPopup();this.stickyHeader();this.productSearchLabel();this.headerMenu();this.megaMenu();this.instanceSearch();this.topPromotion();this.mobileMenu();this.userMobileMenu();this.headerIE();this.headerRecentlyProducts();this.pageHeaderParallax();this.postEntryFormat();this.singleEntryFormat();this.blogLoadingAjax();this.relatedPost();this.blogLayout();this.lazyLoad();this.backToTop();this.catalogBanners();this.productsTopCarousel();this.collapseTheFilter();this.productCategoriesWidget();this.toolTipIcon();this.searchLayeredNav();this.productAttribute();this.shopView();this.addWishlist();this.addCompare();this.productQuickView();this.variationImagesCarousel();this.productTopCategories();this.filterAjax();this.catalogOpenCartMini();this.productsLoadInfinite();this.productCatWidget();this.hoverProductTabs();this.productQuantity();this.productThumbnail();this.productVideo();this.productGallery();this.productDegree();this.singleProductCarousel();this.fbtProduct();this.fbtAddToCartAjax();this.fbtAddToWishlistAjax();this.instagramCarousel();this.productVatiation();this.productVariationVideo();this.addToCartAjax();this.stickyProductInfo();this.loginTabs();this.buyNow();this.wooTabToggle();this.productMultiVendors();this.recentlyFooterViewedProducts();this.cartQuantity();this.filterOnMobile();this.navigationMobile();this.footerDropdown();this.catalogSorting();this.historyBack();this.wcfm();m(document.body).on("martfury_get_products_ajax_success",function(){h.toolTipIcon();m(document.body).trigger("yith_wcwl_init")})};h.isIEVersion=function(){var e=window.navigator.userAgent;var t=false;var i=e.indexOf("MSIE ");if(i>0){t=parseInt(e.substring(i+5,e.indexOf(".",i)),10)}var a=e.indexOf("Trident/");if(a>0){var o=e.indexOf("rv:");t=parseInt(e.substring(o+3,e.indexOf(".",o)),10)}return t};h.headerIE=function(){var e=h.isIEVersion();if(!e){return}var t=h.$header.find(".header-extras"),i=t.find(".product-extra-search"),a=t.find(".extras-menu");var o=t.width(),r=a.outerWidth(true),n="60%";n=88-r/o*100+"%";i.width(n)};h.preLoader=function(){if(!h.$body.hasClass("mf-preloader")){return}if(h.$body.hasClass("elementor-editor-active")){m("#martfury-preloader").addClass("fade-in");return}NProgress.start();m(document).ready(function(){m("#martfury-preloader").addClass("fade-in");NProgress.done()})};h.stickyHeader=function(){if(!h.$body.hasClass("sticky-header")){return}var e=0,t=h.$header.find(".header-main"),i=t.outerHeight()-18,a=m("#top-promotion"),o=a.length>0?a.outerHeight(true):0,r=m("#topbar"),n=r.length>0?r.outerHeight(true):0,s=h.$header.outerHeight(true),l=h.$body.outerHeight(true);e=n+o+s;if(l<=e+h.$window.height()){return}h.$window.on("scroll",function(){if(a.length>0&&a.hasClass("invisible")){e=s+n}if(h.$window.scrollTop()>e){h.$header.addClass("minimized");h.$header.css({"padding-top":i})}else{h.$header.removeClass("minimized");h.$header.removeAttr("style")}})};h.topPromotion=function(){var t=m("#top-promotion");if(t.length<1){return}t.on("click",".close",function(e){e.preventDefault();t.slideUp().addClass("invisible")})};h.mobileMenu=function(){var t=m("#mf-els-modal-mobile").find(".primary-mobile-nav");if(!h.$body.hasClass("mobile-version")){t=m("#primary-mobile-nav")}h.$header.on("click","#mf-toggle-menu",function(e){e.preventDefault();h.$body.toggleClass("display-mobile-menu");t.find("li").removeClass("active")});t.find(".menu .menu-item-has-children > a").prepend('<span class="toggle-menu-children"><i class="icon-plus"></i> </span>');t.find("li.menu-item").removeClass("active");if(h.$body.hasClass("submenus-mobile-icon")){t.on("click",".toggle-menu-children",function(e){e.preventDefault();i(m(this))})}else{t.on("click",".menu-item-has-children > a",function(e){e.preventDefault();i(m(this))})}function i(e){e.closest("li").siblings().find("ul").slideUp();e.closest("li").siblings().removeClass("active");e.closest("li").siblings().find("li").removeClass("active");e.closest("li").children("ul").slideToggle();e.closest("li").toggleClass("active")}t.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault();h.$body.removeClass("display-mobile-menu")});m("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();h.$body.removeClass("display-mobile-menu mb-filter-active mf-filter-active");m("#navigation-mobile_cat").removeClass("active");m("#mf-navigation-mobile").find(".navigation-mobile_search").removeClass("active");m("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")});h.$window.on("resize",function(){if(h.$window.width()>1200){h.$body.removeClass("display-mobile-menu")}})};h.navigationMobile=function(){var i=m("#mf-els-modal-mobile"),a=m("#mf-search-mobile"),t=m("#primary-mobile-nav"),o=m("#mf-category-mobile-nav"),r=m("#mf-cart-mobile"),n=i.find(".mf-els-item");m("#mf-navigation-mobile").on("click",".navigation-mobile_cat",function(e){e.preventDefault();var t=m(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cart").removeClass("active");s(t,o)});m("#mf-navigation-mobile").on("click",".navigation-mobile_search",function(e){e.preventDefault();var t=m(this);t.closest(".navigation-list").find(".navigation-mobile_cat, .navigation-mobile_cart").removeClass("active");s(t,a)});h.$header.on("click","#site-header-category--mobile",function(e){e.preventDefault();n.removeClass("current");t.addClass("current");i.addClass("open");h.$body.addClass("navigation-mobile-active")});m("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();h.$body.removeClass("navigation-mobile-active");i.removeClass("open");o.removeClass("current")});r.on("click",".close-cart-mobile",function(e){e.preventDefault();h.$body.removeClass("navigation-mobile-active");i.removeClass("open");r.removeClass("current");m("#mf-navigation-mobile").find(".navigation-mobile_cart").removeClass("active")});i.find(".primary-mobile-nav").on("click",".close-mobile-nav",function(e){e.preventDefault();h.$body.removeClass("navigation-mobile-active");i.removeClass("open");m("#navigation-mobile_cat").removeClass("active")});if(h.$body.hasClass("cart-panel-mobile")){m("#mf-navigation-mobile").on("click",".navigation-mobile_cart",function(e){e.preventDefault();var t=m(this);t.closest(".navigation-list").find(".navigation-mobile_search, .navigation-mobile_cat").removeClass("active");s(t,r)});h.$header.on("click","#icon-cart-contents",function(e){e.preventDefault();n.removeClass("current");r.addClass("current");i.addClass("open");m("#mf-navigation-mobile").find(".navigation-mobile_cart").addClass("active");h.$body.addClass("navigation-mobile-active")})}function s(e,t){i.removeClass("open");h.$body.removeClass("navigation-mobile-active");n.removeClass("current");t.addClass("current");if(e.hasClass("active")){i.removeClass("open");e.removeClass("active");h.$body.removeClass("navigation-mobile-active")}else{i.addClass("open");e.addClass("active");h.$body.addClass("navigation-mobile-active")}}};h.userMobileMenu=function(){var e=m("#primary-user-nav");if(e.length<1){return}h.$window.on("resize",function(){if(h.$window.width()<1200){h.$body.addClass("canvas-menu-mobile")}else{h.$body.removeClass("canvas-menu-mobile")}}).trigger("resize");h.$header.find(".menu-item-account.logined").on("click","a",function(e){if(h.$body.hasClass("canvas-menu-mobile")){e.preventDefault();h.$body.toggleClass("display-user-mobile")}});e.on("click",".close-canvas-mobile-panel",function(e){e.preventDefault();h.$body.removeClass("display-user-mobile")});m("#mf-off-canvas-layer").on("click",function(e){e.preventDefault();h.$body.removeClass("display-user-mobile")})};h.newLetterPopup=function(){var t=m("#mf-newsletter-popup"),i=parseInt(martfuryData.nl_days),e=parseInt(martfuryData.nl_seconds);if(i>0&&document.cookie.match(/^(.*;)?\s*mf_newletter\s*=\s*[^;]+(.*)?$/)){return}if(t.length<1){return}m(document).ready(function(){setTimeout(function(){t.addClass("open")},e*1e3)});t.on("click",".close-modal",function(e){e.preventDefault();a(i);t.removeClass("open");t.fadeOut()});t.on("click",".n-close",function(e){e.preventDefault();a(30);t.removeClass("open");t.fadeOut()});t.find(".mc4wp-form").on("submit",function(){a(i)});t.find(".formkit-form").on("submit",function(){a(i)});function a(e){var t=new Date,i=t.getTime();t.setTime(t.getTime()+e*24*60*60*1e3);document.cookie="mf_newletter="+i+";expires="+t.toGMTString()+";path=/"}};h.backToTop=function(){var e=m("#scroll-top");h.$window.on("scroll",function(){if(h.$window.scrollTop()>h.$window.height()){e.addClass("show-scroll")}else{e.removeClass("show-scroll")}});e.on("click",function(e){e.preventDefault();m("html, body").stop().animate({scrollTop:0},800)})};h.headerMenu=function(){if(h.$header.hasClass("header-department-bot")){return}if(h.$header.find(".products-cats-menu").length<1){return}var e=h.$header.find(".products-cats-menu").position().left;if(martfuryData.direction==="true"){var t=h.$header.find(".header-logo").width(),i=h.$header.find(".products-cats-menu").width(),a=t-e-i+15;h.$header.find(".toggle-product-cats").css({right:a*-1})}else{h.$header.find(".toggle-product-cats").css({left:e*-1})}};h.megaMenu=function(){h.$header.find(".primary-nav .menu-item.is-mega-menu").each(function(){var e=m(this).children(".dropdown-submenu").width(),t=m(this).closest(".col-header-menu").width(),i=m(this).outerWidth(),a=m(this).position().left+i/2,o=t-m(this).position().left+i/2,r=a-e/2,n=o-e/2;if(n<0){m(this).removeClass("has-width").addClass("align-right")}else if(r<0){m(this).removeClass("has-width").addClass("align-left")}})};h.productSearchLabel=function(){h.$header.on("change","#header-search-product-cat",function(){var e=m(this).find("option:selected").text().trim();h.$header.find(".product-cat-label").html(e)});h.$header.find(".products-search").on("submit",function(){if(m(this).find("#header-search-product-cat").val()=="0"){m(this).find("#header-search-product-cat").removeAttr("name")}})};h.postEntryFormat=function(){if(!h.$body.hasClass("mf-blog-page")){return}var e=m(".blog-wapper").find(".entry-format");e.find(".slides").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'});m(".blog-wapper").find(".entry-format").fitVids({customSelector:"iframe, video"})};h.toolTipIcon=function(){m(".catalog-sidebar").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}});e();m(document).on("yith_wcwl_fragments_loaded",function(){e()});m(document.body).on("removed_from_wishlist",function(){e()});m(document.body).on("added_to_wishlist",function(){e()});function e(){m(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}})}m(".mf-product-thumbnail, .mf-single-product:not(.mf-product-layout-3)").find(".compare").tooltip({content:function(){return m(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}});m(document.body).on("added_to_cart",function(){m(".mf-product-thumbnail").find(".added_to_cart").tooltip({offsetTop:-15,content:function(){return m(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}})})};h.variationImagesCarousel=function(){var e=m(".woocommerce ul.products li.product").find(".mf-attr-swatches-slick");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:3,slidesToScroll:3,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right  slick-next-arrow"></span>'})};h.addWishlist=function(){h.$body.on("click","a.add_to_wishlist",function(){m(this).addClass("loading")});h.$body.on("added_to_wishlist removed_from_wishlist cart_page_refreshed",function(){var e=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","update_wishlist_count");m.post(e,function(e){h.$header.find(".menu-item-wishlist .mini-item-counter").html(e)})});m(document).on("yith_wcwl_fragments_loaded",function(){if(!h.$body.hasClass("single-product")){return}if(h.$body.find("#mf-product-fbt").length<0){return}h.$body.find("#mf-product-fbt").find("a.add_to_wishlist").addClass("fbt-wishlist")});var o=0;h.$body.on("added_to_wishlist",function(e,t){e.preventDefault();m("ul.products li.product .yith-wcwl-add-button a").removeClass("loading");if(h.$body.hasClass("single-product")){if(t.hasClass("fbt-wishlist")){return}}var i=parseInt(t.data("product-id"));if(i==o){return}o=i;var a=t.data("product-title");h.addedToWishlistNotice("",a,false,"success")})};h.addedToWishlistNotice=function(e,t,i,a,o){if(typeof martfuryData.added_to_wishlist_notice==="undefined"||!m.fn.notify){return}if(o){t+=" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_texts}else{t+=" "+martfuryData.added_to_wishlist_notice.added_to_wishlist_text}e+='<a href="'+martfuryData.added_to_wishlist_notice.wishlist_view_link+'" class="btn-button">'+martfuryData.added_to_wishlist_notice.wishlist_view_text+"</a>";if(i){e='<div class="message-box">'+e+"</div>"}m.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i><span data-notify-text/>'+e+'<span class="close icon-cross2"></span> </div>'});m.notify(t,{autoHideDelay:martfuryData.added_to_wishlist_notice.wishlist_notice_auto_hide,className:a,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};h.addCompare=function(){h.$body.on("click","a.compare:not(.added)",function(e){e.preventDefault();var t=m(this);t.addClass("loading");t.closest(".product-inner").find(".compare:not(.loading)").trigger("click");var i=false;if(m(this).hasClass("added")){i=true}if(i===false){var a=h.$header.find("#mini-compare-counter").html();a=parseInt(a,10)+1;setTimeout(function(){h.$header.find("#mini-compare-counter").html(a);t.removeClass("loading")},2e3)}else{t.removeClass("loading")}});m(document).find(".compare-list").on("click",".remove a",function(e){e.preventDefault();var t=m("#mini-compare-counter",window.parent.document).html();t=parseInt(t,10)-1;if(t<0){t=0}m("#mini-compare-counter",window.parent.document).html(t)});m(document).find("#yith-woocompare").on("click",".yith_woocompare_clear",function(e){e.preventDefault();m("#mini-compare-counter",window.parent.document).html(0)});m(".yith-woocompare-widget").on("click","li a.remove",function(e){e.preventDefault();var t=$header.find("#mini-compare-counter").html();t=parseInt(t,10)-1;if(t<0){t=0}setTimeout(function(){$header.find("#mini-compare-counter").html(t)},2e3)});m(".yith-woocompare-widget").on("click","a.clear-all",function(e){e.preventDefault();setTimeout(function(){$header.find("#mini-compare-counter").html("0")},2e3)})};h.productQuantity=function(){h.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();var t=m(this),i=t.siblings(".qty"),a=0,o=parseFloat(i.attr("min")),r=parseFloat(i.attr("max")),n=parseFloat(i.attr("step"));if(i.val()!==""){a=parseFloat(i.val())}else if(i.attr("placeholder")!==""){a=parseFloat(i.attr("placeholder"))}o=o?o:0;r=r?r:a+1;if(t.hasClass("decrease")&&a>o){i.val(a-n);i.trigger("change")}if(t.hasClass("increase")&&a<r){i.val(a+n);i.trigger("change")}})};h.productThumbnail=function(){var i=m(".woocommerce-product-gallery");var a=i.find(".woocommerce-product-gallery__image.mf-product-video");var o=i.find(".flex-control-thumbs");h.$window.on("load",function(){m(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){if(m(this).find("img").hasClass("lazy")){var e=m(this).find("img").data("original");m(this).find("img").attr("src",e)}})});i.imagesLoaded(function(){setTimeout(function(){if(a.length>0){m(".woocommerce-product-gallery").addClass("has-video");if(m(".woocommerce-product-gallery").hasClass("video-first")){o.find("li").first().append('<i class="i-video ion-play"></i>')}else{o.find("li").last().append('<i class="i-video ion-play"></i>')}}if(h.$body.hasClass("mobile-version")){return}if(o.length<1){return}var e=i.data("columns");var t=o.find("li").length;if(t>e){if(!m(".mf-single-product").hasClass("mf-product-sidebar")){o.not(".slick-initialized").slick({slidesToShow:e,slidesToScroll:1,focusOnSelect:true,vertical:true,infinite:false,prevArrow:'<span class="icon-chevron-up slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-down slick-next-arrow"></span>',responsive:[{breakpoint:768,settings:{slidesToShow:4}},{breakpoint:480,settings:{slidesToShow:3}}]});o.find("li.slick-current").trigger("click")}else{o.not(".slick-initialized").slick({slidesToShow:e,focusOnSelect:true,slidesToScroll:1,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})}}else{o.addClass("no-slick")}},100)})};h.productVideo=function(){var o=m(".woocommerce-product-gallery");var e=o.find(".woocommerce-product-gallery__image.mf-product-video");var t=o.find(".flex-control-thumbs");if(e.length<1){return}var r=false,n=false;t.on("click","li",function(){var e=o.find(".mf-product-video");var t=m(this).siblings().length;n=true;if(m(this).index()==t){n=false;r=false}if(!r&&n){var i=e.find("iframe"),a=e.find("video.wp-video-shortcode");if(i.length>0){i.attr("src",i.attr("src"))}if(a.length>0){a[0].pause()}r=true}return false});t.find("li").on("click",".i-video",function(e){e.preventDefault();m(this).closest("li").find("img").trigger("click")})};h.productGallery=function(){var e=m(".woocommerce-product-gallery");if(typeof martfuryData.product_gallery==="undefined"||martfuryData.product_gallery!="1"){e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault()});return}if(!e.length){return}e.find(".woocommerce-product-gallery__image").on("mouseenter",function(){m(this).closest(".woocommerce-product-gallery").find(".ms-image-view").removeClass("hide");m(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").addClass("hide")});e.find(".woocommerce-product-gallery__image").on("mouseleave",function(){m(this).closest(".woocommerce-product-gallery").find(".ms-image-view").addClass("hide");m(this).closest(".woocommerce-product-gallery").find(".ms-image-zoom").removeClass("hide")});e.on("click",".woocommerce-product-gallery__image",function(e){e.preventDefault();if(m(this).hasClass("mf-product-video")){return false}var t=[];var i=m(this).closest(".woocommerce-product-gallery").find(".woocommerce-product-gallery__wrapper").children(".woocommerce-product-gallery__image");i.each(function(){var e=m(this);if(e.hasClass("mf-product-video")){t.push({html:e.find(".mf-video-content").html(),w:1e3,h:1e3})}else{t.push({src:e.children("a").attr("href"),w:e.find("img").attr("data-large_image_width"),h:e.find("img").attr("data-large_image_height")})}});var a=i.index(m(this)),o={index:a,bgOpacity:.85,showHideOpacity:true,mainClass:"pswp--minimal-dark",barsSize:{top:0,bottom:0},captionEl:false,fullscreenEl:false,shareEl:false,tapToClose:true,tapToToggleControls:false};var r=new PhotoSwipe(document.getElementById("pswp"),window.PhotoSwipeUI_Default,t,o);r.init();r.listen("close",function(){m(".mf-video-wrapper").find("iframe").each(function(){m(this).attr("src",m(this).attr("src"))});m(".mf-video-wrapper").find("video").each(function(){m(this)[0].pause()})})})};h.productDegree=function(){if(typeof martfuryData.product_degree==="undefined"){return}var e=m(".woocommerce-product-gallery .product-degree-images");if(e.length<1){return}if(martfuryData.product_degree.length<1){return}var o="",r=m("#product-degree-pswp");e.on("click",function(e){e.preventDefault();h.openModal(r);if(r.hasClass("init")){return}r.addClass("init");var t=martfuryData.product_degree.split(","),i=[];for(var a=0;a<t.length;a++){i.push(t[a])}o=r.find(".mf-product-gallery-degree").ThreeSixty({totalFrames:i.length,endFrame:i.length,currentFrame:1,imgList:r.find(".product-degree-images"),progress:".mf-gallery-degree-spinner",imgArray:i,height:500,width:830,navigation:true});r.find(".product-degree-images").imagesLoaded(function(){r.find(".nav_bar").removeClass("hide")});r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){o.stop();m(this).removeClass("play")})});r.on("click",".degree-pswp-close, .degree-pswp-bg",function(){h.closeModal(r)})};h.cartQuantity=function(){if(!h.$body.hasClass("woocommerce-cart")){return}if(martfuryData.quantity_ajax!="1"){return}h.$body.on("click",".quantity .increase, .quantity .decrease",function(e){e.preventDefault();h.$body.find('button[name="update_cart"]').trigger("click")});h.$body.on("keyup",".quantity .qty",function(e){e.preventDefault();h.$body.find('button[name="update_cart"]').trigger("click")})};h.openModal=function(e){e.fadeIn();e.addClass("open")};h.closeModal=function(e){e.fadeOut(function(){m(this).removeClass("open")})};h.hoverProductTabs=function(){var e,t,i,a,o,r=m(".mf-single-product .woocommerce-tabs").find("ul.wc-tabs");if(r.length<1){return}r.append('<li id="tl-wc-tab" class="tl-wc-tab"></li>');var n=m("#tl-wc-tab");o=r.children("li.active").outerWidth();n.width(o).css("left",r.children("li.active").position().left).data("origLeft",n.position().left).data("origWidth",n.width());a=n.data("origWidth");r.children("li").on("mouseenter",function(){e=m(this);i=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:i})});r.children("li").on("mouseleave",function(){n.stop().animate({left:n.data("origLeft"),width:a})});r.on("click","li",function(){e=m(this);a=i=e.outerWidth();t=e.position().left;n.stop().animate({left:t,width:i});n.data("origLeft",t).data("origWidth",i)})};h.searchLayeredNav=function(){var e=m(".mf-widget-layered-nav");if(e.length<1){return}e.on("keyup",".mf-input-search-nav",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}var i=m(this).val();if(typeof i==="number"){i=""+i}var a=i.toUpperCase(),o=m(this).closest(".mf-widget-layered-nav"),r=o.find(".woocommerce-widget-layered-nav-list"),n=r.children(".wc-layered-nav-term");n.each(function(){var e=m(this).find("a").data("title");if(typeof e==="number"){e=""+e}e=e.toUpperCase();if(e.indexOf(a)>-1){m(this).show()}else{m(this).hide()}});var s=r.data("height");if(r.height()<parseInt(s)){o.addClass("no-scroll")}else{o.removeClass("no-scroll")}})};h.instanceSearch=function(){if(martfuryData.ajax_search!="1"){return}var c=null,d={},i=h.$body.find("form.products-search");i.on("keyup",".search-field",function(e){var t=false;if(typeof e.which=="undefined"){t=true}else if(typeof e.which=="number"&&e.which>0){t=!e.ctrlKey&&!e.metaKey&&!e.altKey}if(!t){return}if(c){c.abort()}var i=m(this).closest(".products-search"),a=i.find("input.search-field");if(a.val().length<2){i.removeClass("searching searched actived found-products found-no-product invalid-length")}o(i)}).on("change","#header-search-product-cat",function(){if(c){c.abort()}var e=m(this).closest(".products-search");o(e)}).on("focusout",".search-field",function(){var e=m(this).closest(".products-search"),t=e.find("input.search-field");if(t.val().length<2){e.removeClass("searching searched actived found-products found-no-product invalid-length")}});m(document).on("click",function(e){if(!i.hasClass("actived")){return}var t=e.target;if(m(t).closest(".products-search").length<1){i.removeClass("searching searched actived found-products found-no-product invalid-length")}});function o(i){var e=i.find("input.search-field"),t=e.val(),a=0,o=i.find(".search-results");if(i.find("#header-search-product-cat").length>0){a=i.find("#header-search-product-cat").val()}if(t.trim().length<2){i.removeClass("searching found-products found-no-product").addClass("invalid-length");return}i.removeClass("found-products found-no-product").addClass("searching");var r=t+a;if(r in d){var n=d[r];i.removeClass("searching");i.addClass("found-products");o.html(n.products);m(document.body).trigger("martfury_ajax_search_request_success",[o]);i.removeClass("invalid-length");i.addClass("searched actived")}else{var s={term:t,nonce:martfuryData.nonce,cat:a,search_type:martfuryData.search_content_type},l=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_search_products");c=m.post(l,s,function(e){var t=e.data;f(i,o,t,r)})}}function f(e,t,i,a){e.removeClass("searching");e.addClass("found-products");t.html(i);e.removeClass("invalid-length");m(document.body).trigger("martfury_ajax_search_request_success",[t]);d[a]={found:true,products:i};e.addClass("searched actived")}};h.singleEntryFormat=function(){if(!h.$body.hasClass("single-post")){return}var e=m("#mf-single-entry-format");e.find(".slides").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>'});e.fitVids({customSelector:"iframe, video"})};h.blogLayout=function(){if(!h.$body.hasClass("blog-layout-masonry")){return}h.$body.imagesLoaded(function(){h.$body.find(".mf-post-list").isotope({itemSelector:".blog-wapper",layoutMode:"masonry"})})};h.relatedPost=function(){if(!h.$body.hasClass("single-post")){return}var e=m("#mf-related-posts").find(".related-posts-list");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:3,slidesToScroll:1,dots:true,infinite:false,arrows:false,responsive:[{breakpoint:768,settings:{slidesToShow:2}},{breakpoint:480,settings:{slidesToShow:1}}]});e.on("afterChange",function(){h.lazyLoad()})};h.blogLoadingAjax=function(){h.$window.on("scroll",function(){if(h.$body.find("#mf-infinite-loading").is(":in-viewport")){h.$body.find("#mf-infinite-loading").trigger("click")}}).trigger("scroll");h.$body.on("click","#mf-infinite-loading",function(e){e.preventDefault();if(m(this).data("requestRunning")){return}m(this).data("requestRunning",true);var a=h.$body.find(".mf-post-list"),o=m(this).parents(".navigation");m.get(m(this).closest(".page-numbers").attr("href"),function(e){var t=m(e).find(".mf-post-list").children(".blog-wapper"),i=m(e).find(".navigation").html();o.html(i);a.append(t);o.find("a").data("requestRunning",false);h.lazyLoad();h.postEntryFormat()})})};h.pageHeaderParallax=function(){if(!m(".page-header").hasClass("page-header-sliders")){return}var e=m(".page-header-sliders"),t=e.data("speed"),i=e.data("auto");e.find("ul").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,infinite:true,autoplaySpeed:t,autoplay:i,arrows:false});e.on("click",".slick-prev-arrow",function(){e.find("ul").slick("slickPrev")});e.on("click",".slick-next-arrow",function(){e.find("ul").slick("slickNext")})};h.lazyLoad=function(){h.$body.find("img.lazy").lazyload({load:function(){m(this).removeClass("lazy")}});h.$window.on("load",function(){m(".mf-products-list-carousel").find("img.lazy").lazyload({load:function(){m(this).removeClass("lazy")}}).trigger("appear")})};h.recentlyFooterViewedProducts=function(){e();t();function e(){var e=m("#footer-recently-viewed");if(e.length<1){return}if(!e.hasClass("load-ajax")){h.recentlyViewedCarousel(e);h.lazyLoad()}else{h.$window.on("scroll",function(){if(h.$body.find("#footer-recently-viewed").is(":in-viewport")){o(e)}}).trigger("scroll")}}function t(){var e=m("#footer-history-products"),t=true,i=m("#footer-bot-recently-viewed"),a=m("#mf-off-canvas-layer");if(e.length<1){return}e.on("click",".recently-title",function(e){e.preventDefault();i.addClass("load-ajax");a.toggleClass("opened");i.slideToggle(400,function(){if(t){o(i);t=false}});m(this).toggleClass("active")});a.on("click",function(){a.removeClass("opened");e.find(".recently-title").removeClass("active");i.slideUp(400)})}function o(t){if(t.length<1){return}if(!t.hasClass("load-ajax")){return}if(t.hasClass("loaded")){return}if(t.data("requestRunning")){return}t.data("requestRunning",true);var e={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_footer_recently_viewed");m.post(i,e,function(e){t.html(e.data);if(t.find(".product-list").hasClass("no-products")){t.addClass("no-products")}h.lazyLoad();h.recentlyViewedCarousel(t);t.addClass("loaded");t.data("requestRunning",false)})}};h.headerRecentlyProducts=function(){var e=m("#header-recently-viewed");if(e.length<1){return}if(!e.hasClass("load-ajax")){h.recentlyViewedCarousel(e);h.lazyLoad()}else{h.$header.find(".recently-title").on("mouseenter",function(){t(e)})}function t(t){if(t.data("requestRunning")){return}if(t.hasClass("loaded")){return}t.data("requestRunning",true);var e={nonce:martfuryData.nonce},i=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_header_recently_viewed");m.post(i,e,function(e){t.html(e.data);if(t.find(".product-list").hasClass("no-products")){t.addClass("no-products")}h.lazyLoad();h.recentlyViewedCarousel(t);t.data("requestRunning",false);t.addClass("loaded")})}};h.recentlyViewedCarousel=function(e){var t=e.find(".product-list");if(t.hasClass("no-products")){return}var i=parseInt(e.data("columns"));t.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:i,slidesToScroll:i,arrows:true,infinite:false,dots:true,prevArrow:'<span class="ion-ios-arrow-left slick-prev-arrow"></span>',nextArrow:'<span class="ion-ios-arrow-right slick-next-arrow"></span>',responsive:[{breakpoint:1500,settings:{slidesToShow:parseInt(i)>8?8:i,slidesToScroll:parseInt(i)>8?8:i}},{breakpoint:1200,settings:{slidesToShow:6,slidesToScroll:6}},{breakpoint:800,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:3}}]});t.on("afterChange",function(){h.lazyLoad()})};h.catalogBanners=function(){var e=m("#mf-catalog-banners");if(e.length<=0){return}var t=e.data("columns"),i=e.data("autoplay"),a=false,o=1e3;if(i>0){a=true;o=i;i=true}else{i=false}e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:1,slidesToScroll:1,autoplaySpeed:o,autoplay:i,infinite:a,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'});e.on("afterChange",function(){h.lazyLoad()})};h.productsTopCarousel=function(){var e=m(".mf-products-top-carousel");if(e.length<=0){return}e.each(function(){var e=m(this).data("columns"),t=m(this).data("autoplay"),i=false,a=1e3;if(t>0){i=true;a=t;t=true}else{t=false}m(this).find("ul.products").not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:e,slidesToScroll:e,autoplaySpeed:a,autoplay:t,infinite:i,dots:true,prevArrow:m(this).find(".slick-prev-arrow"),nextArrow:m(this).find(".slick-next-arrow"),responsive:[{breakpoint:992,settings:{slidesToShow:parseInt(e)>3?3:e,slidesToScroll:parseInt(e)>3?3:e}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});m(this).on("afterChange",function(){h.lazyLoad()})})};h.collapseTheFilter=function(){if(typeof martfuryData.collapse_catalog_filter==="undefined"){return}var e=m(".catalog-sidebar .widget");e.each(function(){var e=m(this);if(e.length<=0){return}if(martfuryData.collapse_catalog_filter.status=="close"){e.find(".widget-title").siblings().addClass("closed");e.find(".widget-title").addClass("non-active")}else{e.find(".widget-title").addClass("active")}e.on("click",".widget-title",function(e){e.preventDefault();m(this).siblings().slideToggle();m(this).siblings().toggleClass("opened");m(this).toggleClass("active no-active")});h.searchLayeredNav()})};h.wooTabToggle=function(){if(typeof martfuryData.product_collapse_tab==="undefined"){return}var e=m(".mf-woo-tabs .mf-Tabs-panel");e.each(function(){var e=m(this),t=e.attr("id"),i=m("#"+t).find(".tab-title");if(martfuryData.product_collapse_tab.status=="close"){i.siblings(".tab-content-wrapper").addClass("closed")}else{i.addClass("active")}i.on("click",function(e){e.preventDefault();m(this).siblings(".tab-content-wrapper").slideToggle().toggleClass("opened");m(this).toggleClass("active")})})};h.productCategoriesWidget=function(){var e=m(".mf_widget_product_categories, .wcv.widget_product_categories");if(e.length<=0){return}e.find("ul.children").closest("li").prepend('<span class="cat-menu-close"><i class="icon-chevron-down"></i> </span>');e.find("li.current-cat-parent, li.current-cat, li.current-cat-ancestor").addClass("opened").children(".children").show();e.on("click",".cat-menu-close",function(e){e.preventDefault();m(this).closest("li").children(".children").slideToggle();m(this).closest("li").toggleClass("opened")})};h.productTopCategories=function(){var e=m(".mf-catalog-top-categories");if(e.length<=0){return}e.on("click",".cat-menu-close",function(e){e.preventDefault();m(this).closest("li").children(".sub-categories").slideToggle();m(this).closest("li").toggleClass("opened")})};h.productAttribute=function(){var r="",n="";h.$body.on("mouseover",".mf-swatch-image",function(e){e.preventDefault();var t=m(this).closest("li.product").find(".mf-product-thumbnail"),i=t.find("img");r=i.attr("src");n=i.attr("srcset");var a=m(this).find("img").attr("src"),o=m(this).find("img").attr("srcset");i.attr("src",a);if(o){i.attr("srcset",o)}}).on("mouseout",".mf-swatch-image",function(e){e.preventDefault();var t=m(this).closest("li.product").find(".mf-product-thumbnail"),i=t.find("img");if(r){i.attr("src",r)}if(n){i.attr("srcset",n)}});h.$body.on("mouseover",".mf-attr-swatches",function(e){e.preventDefault();var t=m(this).closest("li.product").find(".mf-product-thumbnail");t.addClass("hover-swatch")}).on("mouseout",".mf-attr-swatches",function(e){e.preventDefault();var t=m(this).closest("li.product").find(".mf-product-thumbnail");t.removeClass("hover-swatch")})};h.shopView=function(){h.$body.on("click",".mf-shop-view",function(e){e.preventDefault();var t=m(this),i=t.data("view");if(t.hasClass("current")){return}h.$body.find(".mf-shop-view").removeClass("current");t.addClass("current");h.$body.removeClass("shop-view-grid shop-view-list").addClass("shop-view-"+i);document.cookie="shop_view="+i+";domain="+window.location.host+";path=/";m(document.body).trigger("martfury_shop_view_after_change")});m(document.body).on("martfury_shop_view_after_change",function(){h.lazyLoad()})};h.singleProductCarousel=function(){var e=h.$body.find(".up-sells ul.products"),t=h.$body.find(".related.products ul.products");if(e.length<=0&&t.length<=0){return}var i=e.closest(".up-sells").data("columns");e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:parseInt(i),slidesToScroll:parseInt(i),arrows:true,dots:true,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(i)>5?5:parseInt(i),slidesToScroll:parseInt(i)>5?5:parseInt(i)}},{breakpoint:1200,settings:{slidesToShow:parseInt(i)>4?4:parseInt(i),slidesToScroll:parseInt(i)>4?4:parseInt(i)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});e.on("afterChange",function(){h.lazyLoad()});var a=t.closest(".related").data("columns");t.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:parseInt(a),slidesToScroll:parseInt(a),arrows:true,dots:true,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1366,settings:{slidesToShow:parseInt(a)>5?5:parseInt(a),slidesToScroll:parseInt(a)>5?5:parseInt(a)}},{breakpoint:1200,settings:{slidesToShow:parseInt(a)>4?4:parseInt(a),slidesToScroll:parseInt(a)>4?4:parseInt(a)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});t.on("afterChange",function(){h.lazyLoad()})};h.fbtProduct=function(){if(!h.$body.hasClass("single-product")){return}var o=m("#mf-product-fbt");if(o.length<=0){return}var r=o.find(".mf-total-price .woocommerce-Price-amount"),n=o.find(".mf_add_to_cart_button"),s=parseFloat(o.find("#mf-data_price").data("price")),l=martfuryData.currency_param.currency_symbol,c=martfuryData.currency_param.thousand_sep,d=martfuryData.currency_param.decimal_sep,f=martfuryData.currency_param.price_decimals,u=martfuryData.currency_param.currency_pos;o.find(".products-list").on("click","a",function(e){e.preventDefault();var t=m(this).data("id");m(this).closest("li").toggleClass("uncheck");var i=parseFloat(m(this).closest("li").find(".s-price").data("price"));if(m(this).closest("li").hasClass("uncheck")){o.find("#fbt-product-"+t).addClass("un-active");s-=i}else{o.find("#fbt-product-"+t).removeClass("un-active");s+=i}var a="0";o.find(".products-list li").each(function(){if(!m(this).hasClass("uncheck")){a+=","+m(this).find("a").data("id")}});n.attr("value",a);r.html(p(s))});function p(e){var t=e;if(parseInt(f)>0){e=e.toFixed(f)+"";var i=e.split(".");var a=i[0],o=i.length>1?d+i[1]:"";var r=/(\d+)(\d{3})/;while(r.test(a)){a=a.replace(r,"$1"+c+"$2")}t=a+o}switch(u){case"left":return l+t;break;case"right":return t+l;break;case"left_space":return l+" "+t;break;case"right_space":return t+" "+l;break}}};h.fbtAddToCartAjax=function(){if(!h.$body.hasClass("single-product")){return}var e=m("#mf-product-fbt");if(e.length<=0){return}e.on("click",".mf_add_to_cart_button.ajax_add_to_cart",function(e){e.preventDefault();var t=m(this);t.addClass("loading");var i=window.location.href,a="",o=0,r=m("#mf-product-fbt");r.find(".products-list li").each(function(){if(!m(this).hasClass("uncheck")){if(o>0){a+=","}a+=" "+m(this).find("a").data("title");o++}});var n={nonce:martfuryData.nonce,product_ids:t.attr("value")},s=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_fbt_add_to_cart");m.post(s,n,function(e){if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}m(document.body).trigger("updated_wc_div");m(document.body).on("wc_fragments_refreshed",function(){t.removeClass("loading")});h.addedToCartNotice(a,false,"success",true)})})};h.fbtAddToWishlistAjax=function(){if(!h.$body.hasClass("single-product")){return}var o=m("#mf-product-fbt"),r=0;if(o.length<=0){return}var n=s();if(n.length==0){o.find(".btn-view-to-wishlist").addClass("showed");o.find(".btn-add-to-wishlist").addClass("hided")}o.on("click",".btn-add-to-wishlist",function(e){e.preventDefault();var t=m(this);n=s();if(n.length==0){return}var i="",a=0;o.find(".products-list li").each(function(){if(!m(this).hasClass("uncheck")){if(a>0){i+=","}i+=" "+m(this).find("a").data("title");a++}});t.addClass("loading");l(n[r]);h.$body.on("added_to_wishlist",function(){if(n.length>r){l(n[r])}else if(n.length==r){o.find(".btn-view-to-wishlist").addClass("showed");o.find(".btn-add-to-wishlist").addClass("hided");h.addedToWishlistNotice("",i,false,"success",true);t.removeClass("loading")}})});function s(){var e=[];o.find("li.product").each(function(){if(!m(this).hasClass("un-active")&&!m(this).hasClass("product-buttons")&&!m(this).find(".yith-wcwl-add-to-wishlist").hasClass("exists")){if(e.indexOf(m(this).data("id"))==-1){e.push(m(this).data("id"))}}});return e}function l(e){var t=o.find(".add-to-wishlist-"+e);t.find(".yith-wcwl-add-button .add_to_wishlist").trigger("click");r++;return r}};h.instagramCarousel=function(){var e=h.$body.find(".mf-product-instagram ul.products"),t=e.data("columns"),i=e.data("auto"),a=false,o=1e3;if(e.length<1){return}if(i>0){a=true;o=i;i=true}else{i=false}e.not(".slick-initialized").slick({rtl:martfuryData.direction==="true",slidesToShow:t,slidesToScroll:t,autoplaySpeed:o,autoplay:i,infinite:a,dots:true,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>',responsive:[{breakpoint:1200,settings:{slidesToShow:parseInt(t)>4?4:parseInt(t),slidesToScroll:parseInt(t)>4?4:parseInt(t)}},{breakpoint:992,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:767,settings:{slidesToShow:2,slidesToScroll:2}}]});e.on("afterChange",function(){h.lazyLoad()})};h.productQuickView=function(){var r=m("#mf-quick-view-modal"),n=r.find(".product-modal-content");h.$body.on("click",".mf-product-quick-view",function(e){e.preventDefault();var t=m(this),i=t.data("id");n.hide().html("");r.addClass("loading").removeClass("loaded");h.openModal(r);var a={nonce:martfuryData.nonce,product_id:i},o=martfuryData.wc_ajax_url.toString().replace("%%endpoint%%","martfury_product_quick_view");m.post(o,a,function(e){n.show().append(e.data);r.removeClass("loading").addClass("loaded");var t=n.find(".woocommerce-product-gallery"),i=m(".variations_form"),a=n.find("form.cart .actions-button"),o=a.find(".buy_now_button");t.removeAttr("style");t.find("img.lazy").lazyload().trigger("appear");t.imagesLoaded(function(){t.find(".woocommerce-product-gallery__wrapper").not(".slick-initialized").slick({slidesToShow:1,slidesToScroll:1,infinite:false,prevArrow:'<span class="icon-chevron-left slick-prev-arrow"></span>',nextArrow:'<span class="icon-chevron-right slick-next-arrow"></span>'})});n.find("div.product").addClass("qv-modal");if(o.length>0){a.prepend(o)}t.find(".woocommerce-product-gallery__image").on("click",function(e){e.preventDefault()});if(typeof wc_add_to_cart_variation_params!=="undefined"){i.each(function(){m(this).wc_variation_form()})}if(typeof m.fn.tawcvs_variation_swatches_form!=="undefined"){i.tawcvs_variation_swatches_form()}h.productVatiation();if(typeof tawcvs!=="undefined"){if(tawcvs.tooltip==="yes"){i.find(".swatch").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tool-tip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}})}}n.find(".compare").tooltip({content:function(){return m(this).html()},classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}});n.find("[data-rel=tooltip]").tooltip({classes:{"ui-tooltip":"martfury-tooltip"},tooltipClass:"martfury-tooltip qv-tooltip",position:{my:"center bottom",at:"center top-13"},create:function(){m(".ui-helper-hidden-accessible").remove()}});h.buyNow();h.addToCartAjax();m(document.body).trigger("yith_wcwl_init")})});r.on("click",".close-modal, .mf-modal-overlay",function(e){e.preventDefault();h.closeModal(r)})};h.productVatiation=function(){h.$body.on("tawcvs_initialized",function(){m(".variations_form").unbind("tawcvs_no_matching_variations");m(".variations_form").on("tawcvs_no_matching_variations",function(e,t){e.preventDefault();m(".variations_form").find(".woocommerce-variation.single_variation").show();if(typeof wc_add_to_cart_variation_params!=="undefined"){m(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")}})});m(".variations_form").on("found_variation.wc-variation-form",function(e,t){var i=m(".mf-product-detail").find(".meta-sku").find(".meta-value");if(typeof i.wc_set_content!=="function"){return}if(typeof i.wc_reset_content!=="function"){return}if(t.sku){i.wc_set_content(t.sku)}else{i.wc_reset_content()}});m(".variations_form td.value").find("select").each(function(){m(this).on("change",function(){var e=m(this).find("option:selected").text();m(this).closest("tr").find("td.label .mf-attr-value").html(e)}).trigger("change")})};h.productVariationVideo=function(){var e=m(".variations_form"),a=m(".woocommerce-product-gallery");e.on("found_variation.wc-variation-form",function(e,t){if(!a.hasClass("video-first")||!a.hasClass("has-video")){return}var i=a.find(".mf-video-content").find(".wp-post-image");if(i.length<1||i.attr("src")==="#"){return}if(t&&t.image&&t.image.src&&t.image.src.length>1){a.addClass("active-first-image")}else{a.removeClass("active-first-image")}});e.on("reset_image",function(e){a.removeClass("active-first-image")})};h.addToCartAjax=function(){if(martfuryData.add_to_cart_ajax=="0"){return}var n=false;h.$body.find("form.cart").on("click",".single_add_to_cart_button",function(e){var o=m(this),t=o.closest("form.cart"),i=o.closest(".entry-summary").find(".product_title");if(o.hasClass("has-buy-now")){return}if(t.length>0){e.preventDefault()}else{return}if(o.hasClass("disabled")){return}o.addClass("loading");if(n){return}n=true;t.find('input[name="buy_now"]').remove();var a=t.serializeArray(),r=window.location.href;if(o.val()!=""){a.push({name:o.attr("name"),value:o.val()})}m.ajax({url:window.location.href,method:"post",data:a,error:function(){window.location=r},success:function(e){if(!e){window.location=r}if(typeof wc_add_to_cart_params!=="undefined"){if(wc_add_to_cart_params.cart_redirect_after_add==="yes"){window.location=wc_add_to_cart_params.cart_url;return}}m(document.body).trigger("updated_wc_div");m(document.body).on("wc_fragments_refreshed",function(){o.removeClass("loading")});var t="",i="success",a=false;if(m(e).find(".woocommerce-message").length>0){t=m(e).find(".woocommerce-message").html()}if(m(e).find(".woocommerce-error").length>0){t=m(e).find(".woocommerce-error").html();i="error"}if(m(e).find(".woocommerce-info").length>0){t=m(e).find(".woocommerce-info").html()}h.addedToCartNotice(t,true,i,false);n=false}})})};h.addedToCartNotice=function(e,t,i,a){if(typeof martfuryData.added_to_cart_notice==="undefined"||!m.fn.notify){return}if(!t){if(a){e+=" "+martfuryData.added_to_cart_notice.added_to_cart_texts}else{e+=" "+martfuryData.added_to_cart_notice.added_to_cart_text}}e+='<a href="'+martfuryData.added_to_cart_notice.cart_view_link+'" class="btn-button">'+martfuryData.added_to_cart_notice.cart_view_text+"</a>";if(t){e='<div class="message-box">'+e+"</div>"}m.notify.addStyle("martfury",{html:'<div><i class="icon-checkmark-circle message-icon"></i>'+e+'<span class="close icon-cross2"></span> </div>'});m.notify("&nbsp",{autoHideDelay:martfuryData.added_to_cart_notice.cart_notice_auto_hide,className:i,style:"martfury",showAnimation:"fadeIn",hideAnimation:"fadeOut"})};h.filterAjax=function(){if(!h.$body.hasClass("catalog-ajax-filter")){return}m("#page").addClass("fade-in");m(document.body).on("price_slider_change",function(e,t){var i=m(".price_slider").closest("form").get(0),a=m(i),o=a.attr("action")+"?"+a.serialize();m(document.body).trigger("martfury_catelog_filter_ajax",o,m(this))});h.$body.on("click",".mf_widget_product_categories a, .mf-widget-layered-nav a, .widget_rating_filter a, .widget_layered_nav_filters a, ul.woocommerce-ordering a:not(.mf-cancel-order)",function(e){e.preventDefault();var t=m(this).attr("href");m(document.body).trigger("martfury_catelog_filter_ajax",t,m(this))});m(document.body).on("martfury_catelog_filter_ajax",function(e,t,i){var a=m("#content"),o=m(".page-header"),r=m("head").find("title");NProgress.start();m("#page").removeClass("fade-in");if("?"==t.slice(-1)){t=t.slice(0,-1)}t=t.replace(/%2C/g,",");history.pushState(null,null,t);m(document.body).trigger("martfury_ajax_filter_before_send_request",[t,i]);if(h.ajaxXHR){h.ajaxXHR.abort()}h.ajaxXHR=m.get(t,function(e){a.replaceWith(m(e).find("#content"));o.html(m(e).find(".page-header").html());r.html(m(e).filter("title").text());if(typeof martfuryData.catalog_filter_products_status!=="undefined"){h.$body.removeClass("mf-filter-active")}if(m(e).find("#primary-sidebar").length<1){h.$body.removeClass("mb-filter-active sidebar-content").addClass("full-content")}m(document.body).trigger("martfury_ajax_filter_request_success",[e,t]);m(document.body).trigger("yith_wcwl_init")},"html")});m(document.body).on("martfury_ajax_filter_request_success",function(){h.lazyLoad();h.toolTipIcon();h.searchLayeredNav();h.catalogBanners();h.productsTopCarousel();h.collapseTheFilter();h.productCategoriesWidget();h.productAttribute();h.variationImagesCarousel();h.productTopCategories();h.priceSlider();h.catalogSorting();h.productCatWidget();NProgress.done();m("#page").addClass("fade-in")})};h.productMultiVendors=function(){if(!h.$body.hasClass("mobile-version")){return}var t=m("#tab-singleproductmultivendor");if(t.length<1){return}var e=30;if(h.$body.hasClass("sticky-header")){e=90}var i=t.offset().top-e;m("div.product").on("click",".goto_more_offer_tab",function(e){e.preventDefault();m("html, body").stop().animate({scrollTop:i},400);t.find(".tab-title").trigger("click")})};h.stickyProductInfo=function(){if(!h.$body.hasClass("sticky-header-info")){return}var i=m("#sticky-product-info-wapper"),a=m("div.product").find(".woocommerce-tabs"),o=i.outerHeight(true),r=m("div.product").find(".mf-product-summary"),n=m("div.product").find(".entry-summary").find(".cart"),s=0;i.find(".sc-tabs").on("click","a",function(e){e.preventDefault();var t=m(this).data("tab");m(this).closest(".sc-tabs").find("a").removeClass("active");m(this).addClass("active");if(h.$body.hasClass("single-product-layout-3")||h.$body.hasClass("mobile-version")){var i=m("#tab-"+t);if(i.length>0){s=i.offset().top-o-60;m("html, body").stop().animate({scrollTop:s},400)}}else{if(a.length>0){a.find("."+t+"_tab a").trigger("click");s=a.offset().top-o-60;m("html, body").stop().animate({scrollTop:s},400)}}});a.find(".wc-tabs").on("click","a",function(e){e.preventDefault();var t=m(this).attr("href");t=t?t.replace("#",""):t;if(t){i.find(".sc-tabs").find("a").removeClass("active");i.find(".sc-tabs ."+t).addClass("active")}});i.find(".sc-product-cart").on("click",".button",function(e){e.preventDefault();if(n.length>0){var t=n.offset().top-o-50;m("html, body").stop().animate({scrollTop:t},400)}});var l=150;if(h.$body.hasClass("single-product-layout-3")||h.$body.hasClass("mobile-version")){h.$window.on("scroll",function(){i.find(".sc-tabs li a").removeClass("active");i.find(".sc-tabs li").each(function(){var e=m(this).find("a");var t=e.attr("href");if(m(t).is(":in-viewport("+l+")")){e.addClass("active")}})})}if(r.length<1){return}var c=0;h.$window.on("scroll",function(){if(h.$body.hasClass("mobile-version")){var e=m("#topbar").length>0?m("#topbar").outerHeight(true):0,t=h.$header.outerHeight(true);c=t+e}else{c=r.offset().top-300}if(h.$window.scrollTop()>c){i.addClass("viewport")}else{i.removeClass("viewport")}})};h.catalogOpenCartMini=function(){m(document.body).on("added_to_cart",function(e,t,i,a){var o=a.attr("data-title");h.addedToCartNotice(o,false,"success",false)})};h.priceSlider=function(){if(typeof woocommerce_price_slider_params==="undefined"){return false}if(m(".catalog-sidebar").find(".widget_price_filter").length<=0){return false}m("input#min_price, input#max_price").hide();m(".price_slider, .price_label").show();var e=m(".price_slider_amount #min_price").data("min"),t=m(".price_slider_amount #max_price").data("max"),i=parseInt(e,10),a=parseInt(t,10);if(m(".price_slider_amount #min_price").val()!=""){i=parseInt(m(".price_slider_amount #min_price").val(),10)}if(m(".price_slider_amount #max_price").val()!=""){a=parseInt(m(".price_slider_amount #max_price").val(),10)}m(document.body).on("price_slider_create price_slider_slide",function(e,t,i){if(woocommerce_price_slider_params.currency_pos==="left"){m(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+t);m(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+i)}else if(woocommerce_price_slider_params.currency_pos==="left_space"){m(".price_slider_amount span.from").html(woocommerce_price_slider_params.currency_symbol+" "+t);m(".price_slider_amount span.to").html(woocommerce_price_slider_params.currency_symbol+" "+i)}else if(woocommerce_price_slider_params.currency_pos==="right"){m(".price_slider_amount span.from").html(t+woocommerce_price_slider_params.currency_symbol);m(".price_slider_amount span.to").html(i+woocommerce_price_slider_params.currency_symbol)}else if(woocommerce_price_slider_params.currency_pos==="right_space"){m(".price_slider_amount span.from").html(t+" "+woocommerce_price_slider_params.currency_symbol);m(".price_slider_amount span.to").html(i+" "+woocommerce_price_slider_params.currency_symbol)}m(document.body).trigger("price_slider_updated",[t,i])});if(typeof m.fn.slider!=="undefined"){m(".price_slider").slider({range:true,animate:true,min:e,max:t,values:[i,a],create:function(){m(".price_slider_amount #min_price").val(i);m(".price_slider_amount #max_price").val(a);m(document.body).trigger("price_slider_create",[i,a])},slide:function(e,t){m("input#min_price").val(t.values[0]);m("input#max_price").val(t.values[1]);m(document.body).trigger("price_slider_slide",[t.values[0],t.values[1]])},change:function(e,t){m(document.body).trigger("price_slider_change",[t.values[0],t.values[1]])}})}};h.loginTabs=function(){var a=m(".martfury-login-tabs"),e=a.find(".tabs-nav a"),o=a.find(".tabs-panel");e.on("click",function(e){e.preventDefault();var t=m(this),i=t.parent().index();if(t.hasClass("active")){return}a.find(".tabs-nav a").removeClass("active");t.addClass("active");o.removeClass("active");o.filter(":eq("+i+")").addClass("active")})};h.productsLoadInfinite=function(){if(!h.$body.hasClass("navigation-type-infinite")){return}h.$window.on("scroll",function(){if(h.$body.find("#martfury-products-loading").is(":in-viewport")){h.$body.find("#martfury-products-loading").closest(".next").trigger("click")}}).trigger("scroll");h.$body.on("click",".woocommerce-pagination .next",function(e){e.preventDefault();var t=m(this);if(t.data("requestRunning")){return}t.data("requestRunning",true);var a=t.closest(".woocommerce-pagination"),o=a.prev(".products"),i=t.closest(".next").attr("href");m.get(i,function(e){var t=m(e).find("#mf-shop-content ul.products").children("li.product"),i=m(e).find(".woocommerce-pagination").html();if(h.$body.hasClass("wcfmmp-store-page")){t=m(e).find("#products-wrapper ul.products").children("li.product")}a.html(i);o.append(t);a.find(".next").data("requestRunning",false);h.toolTipIcon();h.lazyLoad();h.variationImagesCarousel();m(document.body).trigger("martfury_shop_ajax_loading_success");m(document.body).trigger("yith_wcwl_init");m(document.body).trigger("jetpack-lazy-images-load")})})};h.productCatWidget=function(){var e=m(".mf_widget_product_categories"),t=parseInt(e.find("input.widget-cat-numbers").val(),10);if(!e.find("ul.product-categories").hasClass("has-view-more")){return}var i=e.find("ul.product-categories > li.cat-item").size();if(i>t){e.find(".show-more").show()}e.find("ul.product-categories > li.cat-item:lt("+t+")").show();e.on("click",".show-more",function(){e.find("ul.product-categories > li.cat-item").show();m(this).hide();e.find(".show-less").show()});e.on("click",".show-less",function(){e.find("ul.product-categories > li.cat-item").not(":lt("+t+")").hide();m(this).hide();e.find(".show-more").show()})};h.buyNow=function(){if(!h.$body.find(".mf-single-product").hasClass("mf-has-buy-now")){return}h.$body.find("form.cart").on("click",".buy_now_button",function(e){e.preventDefault();var t=m(this).closest("form.cart"),i=m(this).is(":disabled");if(i){jQuery("html, body").animate({scrollTop:m(this).offset().top-200},900)}else{t.append('<input type="hidden" value="true" name="buy_now" />');t.find(".single_add_to_cart_button").addClass("has-buy-now");t.find(".single_add_to_cart_button").trigger("click")}});var a=m(".variations_form");a.on("hide_variation",function(e){e.preventDefault();a.find(".buy_now_button").addClass("disabled wc-variation-selection-needed")});a.on("show_variation",function(e,t,i){e.preventDefault();if(i){a.find(".buy_now_button").removeClass("disabled wc-variation-selection-needed")}else{a.find(".buy_now_button").addClass("disabled wc-variation-selection-needed")}})};h.footerDropdown=function(){if(!h.$body.hasClass("mobile-version")){return}var e=m("#footer-widgets .widget_nav_menu, #footer-links .widget_nav_menu"),t=e.find(".widget-title");t.next("div").addClass("clicked");e.on("click",".widget-title",function(e){e.preventDefault();m(this).next(".clicked").stop().slideToggle();m(this).toggleClass("active");return false})};h.catalogSorting=function(){if(!h.$body.hasClass("mobile-version")){return}var t=m("#mf-catalog-sorting-mobile");m("#mf-catalog-toolbar").on("click",".woocommerce-ordering",function(e){e.preventDefault();t.addClass("mf-active")});t.on("click","a",function(e){t.removeClass("mf-active");t.find("a").removeClass("active");m(this).addClass("active")})};h.filterOnMobile=function(){h.$body.on("click","#mf-filter-mobile",function(e){e.preventDefault();h.$body.toggleClass("mf-filter-active")});h.$body.find("#mf-catalog-close-sidebar").on("click",".close-sidebar",function(e){e.preventDefault();h.$body.removeClass("mf-filter-active")})};h.historyBack=function(){if(!h.$body.hasClass("mobile-version")){return}var e=h.$header.find(".mf-history-back");e.on("click",function(e){if(document.referrer!=""){e.preventDefault();window.history.go(-1);m(window).on("popstate",function(e){window.location.reload(true)})}})};h.wcfm=function(){if(m("#mf_pbt_product_ids").length<=0){return false}if(typeof $wcfm_product_select_args==="undefined"){return false}m("#mf_pbt_product_ids").select2($wcfm_product_select_args)};m(function(){h.init()})})(jQuery);